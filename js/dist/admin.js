(()=>{var e={n:n=>{var o=n&&n.__esModule?()=>n.default:()=>n;return e.d(o,{a:o}),o},d:(n,o)=>{for(var r in o)e.o(o,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:o[r]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};(()=>{"use strict";e.r(n);const o=flarum.core.compat["admin/app"];var r=e.n(o);const t=flarum.core.compat["common/components/Switch"];var a=e.n(t);const s=flarum.core.compat["common/models/Group"];var i=e.n(s),l="clarkwinkelmann-who-read.admin.settings.";r().initializers.add("clarkwinkelmann-who-read",(function(){r().extensionData.for("clarkwinkelmann-who-read").registerSetting((function(){var e=this,n=this.setting("who-read.onlyGroups","")().split(",").filter((function(e){return parseInt(e)>0}));return[m(".Form-group",[a().component({state:"1"===this.setting("who-read.showInDiscussionList","1")(),onchange:function(n){e.setting("who-read.showInDiscussionList")(n?"1":"0")}},r().translator.trans(l+"show-in-discussion-list"))]),m(".Form-group",[a().component({state:"1"===this.setting("who-read.showInHero","1")(),onchange:function(n){e.setting("who-read.showInHero")(n?"1":"0")}},r().translator.trans(l+"show-in-hero"))]),m(".Form-group",[a().component({state:"1"===this.setting("who-read.showBetweenPosts","1")(),onchange:function(n){e.setting("who-read.showBetweenPosts")(n?"1":"0")}},r().translator.trans(l+"show-between-posts"))]),m(".Form-group",[a().component({state:"1"===this.setting("who-read.showCountOfReadersWhoStopped")(),onchange:function(n){e.setting("who-read.showCountOfReadersWhoStopped")(n?"1":"0")}},r().translator.trans(l+"show-count-of-readers-who-stopped"))]),m(".Form-group",[m("label",r().translator.trans(l+"hide-when-behind")),m("input.FormControl",{type:"number",bidi:this.setting("who-read.hideWhenBehind"),min:0})]),m(".Form-group",[m("label",r().translator.trans(l+"max-visible")),m("input.FormControl",{type:"number",bidi:this.setting("who-read.maxVisible","10"),min:0})]),m(".Form-group",[m("label",r().translator.trans(l+"unread-icon")),m("input.FormControl",{type:"text",bidi:this.setting("who-read.unreadIcon"),placeholder:"fas fa-eye-dash"})]),m(".Form-group",[m("label",r().translator.trans(l+"only-groups")),r().store.all("groups").filter((function(e){return e.id()!==i().MEMBER_ID&&e.id()!==i().GUEST_ID})).map((function(o){return a().component({state:-1!==n.indexOf(o.id()),onchange:function(r){var t;t=r?[].concat(n,[o.id()]):n.filter((function(e){return e!==o.id()})),e.setting("who-read.onlyGroups")(t.join(","))}},o.nameSingular())}))])]})).registerPermission({icon:"fas fa-book-reader",label:r().translator.trans("clarkwinkelmann-who-read.admin.permissions.see-read"),permission:"who-read.seeRead",allowGuest:!0},"view").registerPermission({icon:"fas fa-book-reader",label:r().translator.trans("clarkwinkelmann-who-read.admin.permissions.see-subscription"),permission:"who-read.seeSubscription",allowGuest:!0},"view").registerPermission({icon:"fas fa-book-reader",label:r().translator.trans("clarkwinkelmann-who-read.admin.permissions.see-unread"),permission:"who-read.seeUnread",allowGuest:!0},"view").registerPermission({icon:"fas fa-book-reader",label:r().translator.trans("clarkwinkelmann-who-read.admin.permissions.mark-unread"),permission:"who-read.markUnread"},"reply")}))})(),module.exports=n})();
//# sourceMappingURL=admin.js.map